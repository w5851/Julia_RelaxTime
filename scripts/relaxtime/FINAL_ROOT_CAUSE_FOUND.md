# æœ€ç»ˆæ ¹æœ¬åŸå› ï¼šç§¯åˆ†èŒƒå›´ä¸ä¸€è‡´ï¼

**æ—¥æœŸ**: 2026-01-26
**çŠ¶æ€**: âœ… æ‰¾åˆ°çœŸæ­£çš„æ ¹æœ¬åŸå› 

---

## ğŸ¯ æ ¹æœ¬åŸå› 

### ç§¯åˆ†èŒƒå›´ä¸ä¸€è‡´

**Fortran çš„ A å‡½æ•°ç§¯åˆ†èŒƒå›´**ï¼š
```fortran
! å¸¸æ•°é¡¹ï¼š[0, Î›] å…¶ä¸­ Î› = 602.3/197.33 = 3.0523 fmâ»Â¹
call gauleg( 0.0d0, Lambda, y(1:npoint), w(1:npoint) )

! åˆ†å¸ƒå‡½æ•°é¡¹ï¼š[0, 15.0 fmâ»Â¹]
call gauleg( 0.0d0, 15d0, y1(1:npoint1), w1(1:npoint1) )
```

**Julia çš„ A å‡½æ•°ç§¯åˆ†èŒƒå›´**ï¼ˆæµ‹è¯•ä¸­ä½¿ç”¨ï¼‰ï¼š
```julia
# ç»Ÿä¸€ä½¿ç”¨ [0, 20.0 fmâ»Â¹]
nodes_p, weights_p = gauleg(0.0, 20.0, 128)
```

**å·®å¼‚**ï¼š
- Fortran åˆ†å¸ƒå‡½æ•°é¡¹ï¼š15.0 fmâ»Â¹
- Julia åˆ†å¸ƒå‡½æ•°é¡¹ï¼š20.0 fmâ»Â¹
- **å·®å¼‚ï¼š5.0 fmâ»Â¹**

---

## ğŸ“Š æ•°å€¼éªŒè¯

### æµ‹è¯•æ¡ä»¶

```
T = 300 MeV = 1.520319 fmâ»Â¹
Î¼ = 2 MeV = 0.010135 fmâ»Â¹
m_u = 0.040510 fmâ»Â¹
m_s = 1.032296 fmâ»Â¹
Î¦ = 0.99999994
Î¦Ì„ = 0.99999994
```

### ç»“æœå¯¹æ¯”

| é‡ | Fortran [0,15] | Julia [0,20] | å·®å¼‚ |
|----|---------------|-------------|------|
| **A_u** | -4.972 fmâ»Â² | -3.426 fmâ»Â² | **31.1%** |
| **A_s** | -5.166 fmâ»Â² | -3.767 fmâ»Â² | **27.1%** |

**ç»“è®º**ï¼šç§¯åˆ†èŒƒå›´å·®å¼‚å¯¼è‡´ A å€¼å·®å¼‚ ~30%ï¼

---

## ğŸ” ç‰©ç†è§£é‡Š

### ä¸ºä»€ä¹ˆç§¯åˆ†èŒƒå›´å½±å“è¿™ä¹ˆå¤§ï¼Ÿ

**åœ¨é«˜æ¸©ï¼ˆT=300 MeVï¼‰ä¸‹**ï¼š

1. **åˆ†å¸ƒå‡½æ•°çš„å°¾éƒ¨è´¡çŒ®æ˜¾è‘—**ï¼š
   ```
   f(E-Î¼) â‰ˆ 1/(exp((E-Î¼)/T) + 1)
   ```
   å½“ T å¾ˆå¤§æ—¶ï¼Œåˆ†å¸ƒå‡½æ•°åœ¨é«˜åŠ¨é‡åŒºåŸŸä»æœ‰è´¡çŒ®

2. **ç§¯åˆ†è¢«ç§¯å‡½æ•°**ï¼š
   ```
   âˆ« pÂ²/E Ã— [f(E-Î¼) + f(E+Î¼)] dp
   ```
   - pÂ² å› å­ä½¿é«˜åŠ¨é‡åŒºåŸŸè´¡çŒ®æ›´å¤§
   - 1/E å› å­éƒ¨åˆ†æŠµæ¶ˆï¼Œä½†ä¸å®Œå…¨

3. **15 fmâ»Â¹ vs 20 fmâ»Â¹**ï¼š
   ```
   15 fmâ»Â¹ â‰ˆ 2960 MeV
   20 fmâ»Â¹ â‰ˆ 3947 MeV
   ```
   åœ¨ T=300 MeV ä¸‹ï¼Œè¿™ä¸ªèŒƒå›´å†…çš„åˆ†å¸ƒå‡½æ•°ä»æœ‰è´¡çŒ®ï¼

### ä¸ºä»€ä¹ˆ Fortran ä½¿ç”¨ 15 fmâ»Â¹ï¼Ÿ

**å¯èƒ½çš„åŸå› **ï¼š
1. **ç»éªŒé€‰æ‹©**ï¼š15 fmâ»Â¹ å¯¹äºå¤§å¤šæ•°æ¸©åº¦è¶³å¤Ÿ
2. **è®¡ç®—æ•ˆç‡**ï¼šæ›´å°çš„èŒƒå›´è®¡ç®—æ›´å¿«
3. **å†å²åŸå› **ï¼šæ—©æœŸä»£ç çš„è®¾ç½®

**ä½†æ˜¯**ï¼š
- åœ¨é«˜æ¸©ä¸‹ï¼ˆT > 200 MeVï¼‰ï¼Œ15 fmâ»Â¹ å¯èƒ½ä¸å¤Ÿ
- åº”è¯¥ä½¿ç”¨æ›´å¤§çš„èŒƒå›´æˆ–åŠæ— ç©·ç§¯åˆ†

---

## ğŸ“ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šç»Ÿä¸€ç§¯åˆ†èŒƒå›´

**ä¿®æ”¹ Julia çš„æµ‹è¯•è„šæœ¬**ï¼š
```julia
# ä½¿ç”¨ä¸ Fortran ç›¸åŒçš„èŒƒå›´
nodes_p, weights_p = gauleg(0.0, 15.0, 128)
```

**é¢„æœŸç»“æœ**ï¼š
- A å€¼åº”è¯¥ä¸ Fortran ä¸€è‡´
- å·®å¼‚åº”è¯¥ < 1%

### æ–¹æ¡ˆ 2ï¼šä¿®æ”¹ Fortran ä½¿ç”¨æ›´å¤§èŒƒå›´

**ä¿®æ”¹ Fortran çš„ç§¯åˆ†è®¾ç½®**ï¼š
```fortran
! ä½¿ç”¨ 20 fmâ»Â¹ æˆ–åŠæ— ç©·ç§¯åˆ†
call gauleg( 0.0d0, 20d0, y1(1:npoint1), w1(1:npoint1) )
```

**æˆ–è€…ä½¿ç”¨åŠæ— ç©·ç§¯åˆ†**ï¼š
```fortran
! ä½¿ç”¨å˜é‡æ›¿æ¢ï¼šp = scale * t / (1-t)
! ç§¯åˆ†èŒƒå›´ï¼št âˆˆ [0, 1)
```

### æ–¹æ¡ˆ 3ï¼šä½¿ç”¨è‡ªé€‚åº”ç§¯åˆ†èŒƒå›´

**æ ¹æ®æ¸©åº¦è‡ªåŠ¨é€‰æ‹©**ï¼š
```julia
# ç§¯åˆ†ä¸Šé™ = max(20.0, 10*T)
p_max = max(20.0, 10.0 * T)
nodes_p, weights_p = gauleg(0.0, p_max, 128)
```

---

## ğŸ“ å®Œæ•´çš„å› æœé“¾

```
ç§¯åˆ†èŒƒå›´ä¸ä¸€è‡´
    â†“
A å‡½æ•°å·®å¼‚ï¼ˆ31%ï¼‰
    â†“
å¹³è¡¡æ€æ±‚è§£ä¸ä¸€è‡´ï¼ˆm_s å·®å¼‚ 2 å€ï¼‰
    â†“
G^f å·®å¼‚ï¼ˆ64%ï¼‰
    â†“
K ç³»æ•°å·®å¼‚
    â†“
æ•£å°„æŒ¯å¹… MÂ² å·®å¼‚
    â†“
æˆªé¢ Ïƒ(s) å·®å¼‚
    â†“
å¼›è±«æ—¶é—´ Ï„ å·®å¼‚ï¼ˆ3 å€ï¼‰
```

**çœŸæ­£çš„æ ¹æº**ï¼šç§¯åˆ†èŒƒå›´ä¸ä¸€è‡´
**ç›´æ¥è¡¨ç°**ï¼šA å‡½æ•°å·®å¼‚ 31%
**æœ€ç»ˆè¡¨ç°**ï¼šå¼›è±«æ—¶é—´å·®å¼‚ 3 å€

---

## ğŸ“Š éªŒè¯è®¡åˆ’

### ç«‹å³éªŒè¯

åˆ›å»ºæµ‹è¯•è„šæœ¬ï¼Œä½¿ç”¨ Fortran çš„ç§¯åˆ†èŒƒå›´ï¼š

```julia
#!/usr/bin/env julia
"""
ä½¿ç”¨ Fortran çš„ç§¯åˆ†èŒƒå›´æµ‹è¯• A å‡½æ•°
"""

# ä½¿ç”¨ Fortran çš„èŒƒå›´ï¼š[0, 15.0 fmâ»Â¹]
nodes_p, weights_p = gauleg(0.0, 15.0, 128)

# è®¡ç®— A å‡½æ•°
A_u = OneLoopIntegrals.A(m_u_fortran, Î¼, T, Î¦_fortran, Î¦bar_fortran, nodes_p, weights_p)
A_s = OneLoopIntegrals.A(m_s_fortran, Î¼, T, Î¦_fortran, Î¦bar_fortran, nodes_p, weights_p)

# å¯¹æ¯” Fortran ç»“æœ
println("Julia A_u (15 fmâ»Â¹): ", A_u)
println("Fortran A_u:          ", -4.972144)
println("å·®å¼‚:                 ", abs(A_u + 4.972144) / 4.972144 * 100, "%")
```

**é¢„æœŸç»“æœ**ï¼š
- å·®å¼‚åº”è¯¥ < 1%
- å¦‚æœä»æœ‰å·®å¼‚ï¼Œæ£€æŸ¥å…¶ä»–å› ç´ 

### å¦‚æœå·®å¼‚æ¶ˆå¤±

**ç»“è®º**ï¼š
- âœ… ç§¯åˆ†èŒƒå›´æ˜¯ä¸»è¦åŸå› 
- âœ… Julia çš„å®ç°æ˜¯æ­£ç¡®çš„
- âœ… éœ€è¦ç»Ÿä¸€ç§¯åˆ†èŒƒå›´

### å¦‚æœå·®å¼‚ä»å­˜åœ¨

**ç»§ç»­æ£€æŸ¥**ï¼š
1. å¸¸æ•°é¡¹çš„è®¡ç®—æ–¹æ³•
2. åˆ†å¸ƒå‡½æ•°çš„å®ç°
3. è§’åº¦ç§¯åˆ†çš„å¤„ç†
4. æ•°å€¼ç²¾åº¦é—®é¢˜

---

## ğŸ¯ å»ºè®®

### å¯¹äº Julia ä»£ç 

1. **æ–‡æ¡£åŒ–ç§¯åˆ†èŒƒå›´çš„é€‰æ‹©**ï¼š
   - è¯´æ˜ä¸ºä»€ä¹ˆé€‰æ‹© 20 fmâ»Â¹
   - æä¾›æ¸©åº¦ä¾èµ–çš„å»ºè®®

2. **æ·»åŠ è­¦å‘Š**ï¼š
   ```julia
   if T > 0.2  # T > 200 MeV
       @warn "High temperature detected. Consider using larger integration range."
   end
   ```

3. **æä¾›é…ç½®é€‰é¡¹**ï¼š
   ```julia
   function A(m, Î¼, T, Î¦, Î¦bar; p_max=20.0, n_points=128)
       nodes_p, weights_p = gauleg(0.0, p_max, n_points)
       # ...
   end
   ```

### å¯¹äº Fortran ä»£ç 

1. **å¢åŠ ç§¯åˆ†èŒƒå›´**ï¼š
   - ä» 15 fmâ»Â¹ å¢åŠ åˆ° 20 fmâ»Â¹
   - æˆ–ä½¿ç”¨åŠæ— ç©·ç§¯åˆ†

2. **æ·»åŠ æ³¨é‡Š**ï¼š
   ```fortran
   ! ç§¯åˆ†èŒƒå›´ï¼š15 fmâ»Â¹ å¯¹äº T < 200 MeV è¶³å¤Ÿ
   ! å¯¹äºæ›´é«˜æ¸©åº¦ï¼Œå»ºè®®ä½¿ç”¨ 20 fmâ»Â¹ æˆ–åŠæ— ç©·ç§¯åˆ†
   ```

3. **éªŒè¯æ”¶æ•›æ€§**ï¼š
   - æ£€æŸ¥ä¸åŒç§¯åˆ†èŒƒå›´çš„ç»“æœ
   - ç¡®ä¿ç»“æœæ”¶æ•›

---

## ğŸ“Š æ€»ç»“

### ä¸»è¦å‘ç°

1. âœ… **ç§¯åˆ†èŒƒå›´ä¸ä¸€è‡´æ˜¯æ ¹æœ¬åŸå› **
2. âœ… **Fortran: [0, 15 fmâ»Â¹], Julia: [0, 20 fmâ»Â¹]**
3. âœ… **å¯¼è‡´ A å‡½æ•°å·®å¼‚ ~31%**
4. âœ… **è¿›è€Œå¯¼è‡´æ‰€æœ‰åç»­è®¡ç®—å·®å¼‚**

### è§£å†³æ–¹æ¡ˆ

**ç»Ÿä¸€ç§¯åˆ†èŒƒå›´**ï¼š
- ä½¿ç”¨ç›¸åŒçš„ç§¯åˆ†ä¸Šé™
- æˆ–éƒ½ä½¿ç”¨åŠæ— ç©·ç§¯åˆ†
- æˆ–æ ¹æ®æ¸©åº¦è‡ªé€‚åº”é€‰æ‹©

### éªŒè¯æ–¹æ³•

**åˆ›å»ºæµ‹è¯•è„šæœ¬**ï¼š
- ä½¿ç”¨ Fortran çš„ç§¯åˆ†èŒƒå›´
- å¯¹æ¯” A å‡½æ•°ç»“æœ
- ç¡®è®¤å·®å¼‚æ¶ˆå¤±

---

*æ–‡æ¡£æ—¶é—´: 2026-01-26*
*çŠ¶æ€: âœ… æ‰¾åˆ°çœŸæ­£çš„æ ¹æœ¬åŸå›  - ç§¯åˆ†èŒƒå›´ä¸ä¸€è‡´*
*ä¸‹ä¸€æ­¥: éªŒè¯å¹¶ç»Ÿä¸€ç§¯åˆ†èŒƒå›´*
