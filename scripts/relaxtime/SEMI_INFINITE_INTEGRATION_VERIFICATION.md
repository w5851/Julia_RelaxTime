# åŠæ— ç©·ç§¯åˆ†éªŒè¯ç»“æœ

**æ—¥æœŸ**: 2026-01-27
**çŠ¶æ€**: âš ï¸ å‘ç°é—®é¢˜

---

## ğŸ¯ éªŒè¯ç›®æ ‡

éªŒè¯Fortranä½¿ç”¨åŠæ— ç©·åŠ¨é‡ç§¯åˆ†å,æ˜¯å¦èƒ½æ¶ˆé™¤ä¸Juliaçš„å·®å¼‚ã€‚

---

## ğŸ“Š éªŒè¯ç»“æœ

### Fortran å½“å‰å®ç°

**ç§¯åˆ†æ–¹æ¡ˆ**:
```fortran
! åŠæ— ç©·åŠ¨é‡ç§¯åˆ†
p_vals(i) = scale_p * t_val / (1.0d0 - t_val)
! å…¶ä¸­ scale_p = 10.0, t âˆˆ [0,1)
```

**å…³é”®å‚æ•°** (ssbarâ†’uubar):
- s_bo = 4.267 fmâ»Â² (é˜ˆå€¼ä¸‹é™)
- s_up = 37.27 fmâ»Â² (é˜ˆå€¼ä¸Šé™)
- Max p_val = 48.87 fmâ»Â¹ (æœ€å¤§åŠ¨é‡)
- Lambda = 3.052 fmâ»Â¹
- scale_p = 10.0

**ç»“æœ**:
- w(ssbarâ†’uubar) = 5.941Ã—10â»Â² fmâ»Â¹

### Julia å®ç°

**ç§¯åˆ†æ–¹æ¡ˆ**:
```julia
# åŠæ— ç©·åŠ¨é‡ç§¯åˆ†
# sigma_cutoff = Î›_inv_fm = 3.052 fmâ»Â¹
```

**ç»“æœ**:
- w(ssbarâ†’uubar) = 1.177Ã—10â»Â¹ fmâ»Â¹

### å¯¹æ¯”

| å®ç° | w(ssbarâ†’uubar) | Julia/Fortran |
|------|----------------|---------------|
| Fortran (åŠæ— ç©·) | 5.941Ã—10â»Â² fmâ»Â¹ | - |
| Julia (åŠæ— ç©·) | 1.177Ã—10â»Â¹ fmâ»Â¹ | **1.98** |

**ç»“è®º**: **å·®å¼‚ä»ç„¶å­˜åœ¨!**

---

## ğŸ” é—®é¢˜åˆ†æ

### ä¸ºä»€ä¹ˆåŠæ— ç©·ç§¯åˆ†æ²¡æœ‰æ¶ˆé™¤å·®å¼‚?

#### å¯èƒ½åŸå›  1: s_up çš„è®¡ç®—ä¸åŒ

**Fortran**:
```fortran
s_up = min( ( sqrt(m1Â²+LambdaÂ²) + sqrt(m2Â²+LambdaÂ²) )Â², 
            ( sqrt(m3Â²+LambdaÂ²) + sqrt(m4Â²+LambdaÂ²) )Â² )
```

å¯¹äº ssbarâ†’uubar:
- m1 = m2 = m_s = 1.032 fmâ»Â¹
- m3 = m4 = m_u = 0.041 fmâ»Â¹
- åˆæ€: (âˆš(1.032Â²+3.052Â²) + âˆš(1.032Â²+3.052Â²))Â² = 42.7 fmâ»Â²
- æœ«æ€: (âˆš(0.041Â²+3.052Â²) + âˆš(0.041Â²+3.052Â²))Â² = 37.3 fmâ»Â²
- **s_up = min(42.7, 37.3) = 37.3 fmâ»Â²** âœ“

**Julia**:
```julia
# åœ¨ build_w0cdf_pchip_cache ä¸­
# p_cutoff = sigma_cutoff = Î›_inv_fm = 3.052 fmâ»Â¹
```

è®©æˆ‘æ£€æŸ¥Juliaå¦‚ä½•è®¡ç®—s_max...

#### å¯èƒ½åŸå›  2: Ïƒ(s) çš„è®¡ç®—èŒƒå›´ä¸åŒ

**Fortran**:
- é¢„å…ˆè®¡ç®— Ïƒ(s) åœ¨ [s_bo, s_up] èŒƒå›´å†…
- ä½¿ç”¨çº¿æ€§æ’å€¼

**Julia**:
- ä½¿ç”¨ PCHIP æ’å€¼
- å¯èƒ½åœ¨ä¸åŒçš„ s èŒƒå›´å†…è®¡ç®—

#### å¯èƒ½åŸå›  3: æ•°å€¼ç§¯åˆ†æ–¹æ³•ä¸åŒ

**Fortran**:
- Gauss-Legendre ç§¯åˆ†
- npoint_rex ä¸ªèŠ‚ç‚¹

**Julia**:
- Gauss-Legendre ç§¯åˆ†
- å¯èƒ½ä½¿ç”¨ä¸åŒæ•°é‡çš„èŠ‚ç‚¹

---

## ğŸ”¬ æ·±å…¥è°ƒæŸ¥

### éœ€è¦æ£€æŸ¥çš„ç‚¹

1. **Julia çš„ s_max è®¡ç®—**
   - åœ¨ `build_w0cdf_pchip_cache` ä¸­å¦‚ä½•è®¡ç®—
   - æ˜¯å¦ä¸ Fortran çš„ s_up ä¸€è‡´

2. **Ïƒ(s) çš„è®¡ç®—èŒƒå›´**
   - Julia åœ¨å“ªä¸ª s èŒƒå›´å†…è®¡ç®— Ïƒ(s)
   - æ˜¯å¦è¶…å‡ºäº† Fortran çš„ [s_bo, s_up]

3. **ç§¯åˆ†èŠ‚ç‚¹æ•°**
   - Fortran: npoint_rex = ?
   - Julia: p_nodes = 16, angle_nodes = 16

4. **scale_p å‚æ•°**
   - Fortran: scale_p = 10.0
   - Julia: æ˜¯å¦æœ‰ç±»ä¼¼å‚æ•°?

---

## ğŸ“ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ä¼˜å…ˆçº§ 1: æ£€æŸ¥ Julia çš„ s_max

åˆ›å»ºè„šæœ¬æ£€æŸ¥ Julia åœ¨è®¡ç®— ssbarâ†’uubar æ—¶ä½¿ç”¨çš„ s èŒƒå›´ã€‚

### ä¼˜å…ˆçº§ 2: å¯¹æ¯” Ïƒ(s) æ›²çº¿

åœ¨ç›¸åŒçš„ s å€¼ä¸‹,å¯¹æ¯” Fortran å’Œ Julia çš„ Ïƒ(s)ã€‚

### ä¼˜å…ˆçº§ 3: æ£€æŸ¥ç§¯åˆ†èŠ‚ç‚¹

ç¡®è®¤ä¸¤è€…ä½¿ç”¨ç›¸åŒæ•°é‡çš„ç§¯åˆ†èŠ‚ç‚¹ã€‚

### ä¼˜å…ˆçº§ 4: æ£€æŸ¥ scale_p

Julia å¯èƒ½ä½¿ç”¨ä¸åŒçš„ scale_p å‚æ•°ã€‚

---

## ğŸ’¡ åˆæ­¥çŒœæµ‹

**æœ€å¯èƒ½çš„åŸå› **: Julia çš„ Ïƒ(s) è®¡ç®—èŒƒå›´å¯èƒ½è¶…å‡ºäº† Fortran çš„ s_upã€‚

**ç†ç”±**:
1. Fortran æ˜ç¡®é™åˆ¶ s < s_up = 37.3 fmâ»Â²
2. Julia å¯èƒ½åœ¨æ›´å¤§çš„ s èŒƒå›´å†…è®¡ç®— Ïƒ(s)
3. å¦‚æœ Julia åŒ…å«äº† s > 37.3 fmâ»Â² çš„è´¡çŒ®,å°±ä¼šå¯¼è‡´æ›´å¤§çš„æ•£å°„ç‡

**éªŒè¯æ–¹æ³•**:
- åœ¨ Julia ä¸­æ·»åŠ è°ƒè¯•è¾“å‡º,æ˜¾ç¤ºå®é™…ä½¿ç”¨çš„ s èŒƒå›´
- å¯¹æ¯”ä¸¤è€…çš„ Ïƒ(s) æ›²çº¿

---

*åˆ†ææ—¶é—´: 2026-01-27*
*çŠ¶æ€: å‘ç°é—®é¢˜,éœ€è¦è¿›ä¸€æ­¥è°ƒæŸ¥*
*ç»“è®º: åŠæ— ç©·åŠ¨é‡ç§¯åˆ†ä¸è¶³ä»¥æ¶ˆé™¤å·®å¼‚,éœ€è¦æ£€æŸ¥å…¶ä»–å› ç´ *
