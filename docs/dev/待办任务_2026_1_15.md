先解决编号小的问题
1.查看目前散射截面的计算流程，清理可能存在于流程中的历史遗留/冗余代码;散射截面的计算函数是目前的性能热点函数，探索性能优化的空间
初步分析：
以下是任务1的初步分析（围绕散射截面计算流程、可能的历史遗留/冗余代码、性能热点）：

计算流程（从入口到热点）

total_cross_section 负责 t 积分与末态阻塞因子：主流程在 TotalCrossSection.jl:480 到 TotalCrossSection.jl:650。
每个积分点调用 scattering_amplitude_squared 计算 
∣
M
∣
2
∣M∣ 
2
 （性能热点）：实现见 ScatteringAmplitude.jl:140。
再调用 differential_cross_section 计算 
d
σ
d
t
dt
dσ
​
 ：见 DifferentialCrossSection.jl:67。
末态阻塞因子来自 combined_final_state_factor / final_state_blocking_factor：见 TotalCrossSection.jl:300。
文档中也明确“性能瓶颈在 ScatteringAmplitude 的传播子求和”：见 test_total_cross_section_performance.md:165。
疑似历史遗留/冗余点（需要确认后清理）

DifferentialCrossSection 文件尾部残留“calculate_t_bounds 近似公式”的文档块，但模块内并无对应实现，且实际使用的是 TotalCrossSection 中修正版 calculate_t_bounds。这段文档可能是旧流程遗留。位置见 DifferentialCrossSection.jl:200。
TotalCrossSection.calculate_final_state_energies 的参数包含 t，但函数内部未使用 t，属于无效参数（可简化接口或改为 @unused 约定）。见 TotalCrossSection.jl:242。
TotalCrossSection.parse_particle_pair 是对 parse_particle_pair_str 的包装，但在当前代码中未见调用；属于可疑冗余。见 TotalCrossSection.jl:392。
文档默认积分点数多处写 32，但代码常量 DEFAULT_T_INTEGRAL_POINTS = 6（默认值不一致，容易造成“文档/实现偏离”）。见 TotalCrossSection.jl:83。
性能优化方向（与任务1一致）

关键热点是 scattering_amplitude_squared（传播子计算）ScatteringAmplitude.jl:140。
total_cross_section 已对粒子质量/化学势与 s 相关的量做了预计算，但每个 t 点仍完整走传播子链路。
可探索：
传播子缓存策略（针对同一 process、相同 s、同一组 thermo_params/K_coeffs 的多次 t 调用）。
进一步减少内部分配（如 calculate_mandelstam_variables 的命名元组分配，或在散射振幅中避免临时对象）。
对 scattering_amplitude_squared 做局部 profiling（定位传播子计算哪个通道占主耗时）。
需要你确认的问题（最小集合）

你希望清理的范围是否包含“文档中的旧流程描述”（如 DifferentialCrossSection 末尾的旧 calculate_t_bounds 文档），还是仅限源码逻辑？
parse_particle_pair / calculate_final_state_energies 这类“未使用/参数冗余”是否允许直接删减或改签名？
性能优化是否允许引入缓存（可能影响数值路径与内存占用），还是先以无状态微优化为主？
确认后，我可以继续给出具体清理清单与性能优化补丁计划。
2.待添加介子质量计算和Mott相变计算，需要用户先提供公式文档